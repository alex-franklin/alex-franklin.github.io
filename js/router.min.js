angular.module("portfolioApp",["ngRoute","ngTouch","ngAnimate","ngSanitize"]).config(function(a){a.when("/",{templateUrl:"../templates/resume.html",controller:""}).when("/resume",{templateUrl:"../templates/resume.html",controller:""}).when("/portfolio",{templateUrl:"../templates/portfolio.html",controller:"portfolioCtrl"}).when("/d3",{templateUrl:"../templates/d3.html",controller:""}).when("/d3-api",{templateUrl:"../templates/d3-api.html",controller:""}).otherwise({redirectTo:"../templates/resume.html",controller:""})}).factory("portfolio",function(a){function b(b){c?b(c):a({method:"GET",url:"js/data/portfolio.json",cache:!0}).success(b)}var c;return{categories:function(a){b(function(b){var c=[];angular.forEach(b,function(a,d){c.push(b[d])}),a(c)})}}}).controller("mainCtrl",function(a){}).controller("portfolioCtrl",function(a,b){b.categories(function(b){a.categories=b,console.log(a.categories)})}).filter("sanitize",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]).directive("portfolioDirective",function(){return{restrict:"C",link:function(){lightbox.init()}}}).directive("lightboxDirective",function(){return{restrict:"C",link:function(a,b,c){a.sample.thumb.new_window?c.$set("target","_blank"):c.$set("data-lightbox","lightbox["+a.$parent.obj.category+"]")}}}).factory("edmundsAPI",function(a){function b(b){e?b(e):a({method:"GET",url:g+"vehicle/v2/makes?fmt=json&api_key="+f,cache:!0}).success(b)}function c(b,c,d,e){a({method:"GET",url:g+"editorial/v2/"+c+"/"+d+"/"+e+"?api_key="+f+"&fmt=json",cache:!0}).success(b)}function d(b,c,d,e){a({method:"GET",url:g+"vehicle/v2/"+c+"/"+d+"/"+e+"/styles?fmt=json&api_key="+f+"&view=full",cache:!0}).success(b)}var e,f="wmawhp2cm7m83tff2vtn7bh9",g="https://api.edmunds.com/api/";return{makeList:function(a){b(function(b){var c=[];angular.forEach(b,function(a,d){c.push(b[d])}),a(c[0])})},getArticle:function(a,b,d,e){c(function(b){a(b)},b,d,e)},getVehicle:function(a,b,c,e){d(function(b){a(b)},b,c,e)}}}).controller("edmundsApiCtrl",function(a,b){b.makeList(function(b){a.makes=b,a.loadMakes(a.makes)}),a.loadMakes=function(b){var c=[];angular.forEach(b,function(a,d){c.push({name:b[d].name,value:b[d].niceName})}),a.makeOptions=c},a.loadModels=function(b){var c=function(a){return this==a.niceName?a:void 0};a.modelOptions=a.makes.filter(c,b)[0].models},a.loadYears=function(b){var c=function(a){return this==a.niceName?a:void 0};a.yearOptions=a.modelOptions.filter(c,b)[0].years},a.getArticle=function(c,d,e){b.getArticle(function(b){angular.forEach(b,function(a,c){"string"==typeof a&&(b[c]=a.replace("&lt;p&gt;","").replace("&lt;/p&gt;",""))}),a.articleData=b,console.log(a.articleData)},c,d,e),a.getVehicle(c,d,e)},a.getVehicle=function(c,d,e){b.getVehicle(function(b){a.vehicleData=b,console.log(a.vehicleData)},c,d,e)},a.displayStyles=function(b){a.displayStyles=!0},a.parseHtml=function(a,b){return a.trustAsHtml(b)}});